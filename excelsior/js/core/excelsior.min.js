/*! Excelsior Web Framework v0.1.2 | (c) 2013 NYS ITS | https://github.com/nys-its/excelsior.git | License (MIT): https://github.com/nys-its/excelsior/blob/master/license.md */
var EWF={activateEventName:"click",ua:navigator.userAgent,iOS:!1,$body:null,$html:null,$window:null,imagePath:"/excelsior/excelsior/images/"};EWF.init=function(){var screenMax;EWF.$body=$("body"),EWF.$html=$("html"),EWF.$window=$(window),screenMax=Math.max(screen.width,screen.height),480>=screenMax?EWF.$html.addClass("screen-max-mini"):screenMax>480&&768>screenMax?EWF.$html.addClass("screen-max-medium"):screenMax>=768&&EWF.$html.addClass("screen-max-large"),EWF.preloader.add('<img src="'+EWF.imagePath+'close.svg" alt="">'),EWF.preloader.add('<img src="'+EWF.imagePath+'close-x-gray.svg" alt="">'),EWF.preloader.add('<img src="'+EWF.imagePath+'hamburger-no-dots.svg" alt="">'),EWF.preloader.add('<img src="'+EWF.imagePath+'nys-small.png" alt="">'),EWF.preloader.add('<img src="'+EWF.imagePath+'nys-banner-img.png" alt="">'),EWF.preloader.init()},$(document).ready(function(){EWF.init()}),function(){Modernizr.touch&&(EWF.activateEventName="tap",function(){function parentIfText(node){return"tagName"in node?node:node.parentNode}function swipeDirection(x1,x2,y1,y2){var xDelta=Math.abs(x1-x2),yDelta=Math.abs(y1-y2);return xDelta>=yDelta?x1-x2>0?"Left":"Right":y1-y2>0?"Up":"Down"}function longTap(){longTapTimeout=null,touch.last&&(touch.el.trigger("longTap"),touch={})}function cancelLongTap(){longTapTimeout&&clearTimeout(longTapTimeout),longTapTimeout=null}function cancelAll(){touchTimeout&&clearTimeout(touchTimeout),tapTimeout&&clearTimeout(tapTimeout),swipeTimeout&&clearTimeout(swipeTimeout),longTapTimeout&&clearTimeout(longTapTimeout),touchTimeout=tapTimeout=swipeTimeout=longTapTimeout=null,touch={}}var touchTimeout,tapTimeout,swipeTimeout,longTapTimeout,touch={},longTapDelay=750;$(document).ready(function(){var now,delta;$(document.body).bind("touchstart",function(e){now=Date.now(),!e.touches&&e.originalEvent&&e.originalEvent.touches&&(e.touches=e.originalEvent.touches),delta=now-(touch.last||now),touch.el=$(parentIfText(e.touches[0].target)),touchTimeout&&clearTimeout(touchTimeout),touch.x1=e.touches[0].pageX,touch.y1=e.touches[0].pageY,delta>0&&250>=delta&&(touch.isDoubleTap=!0),touch.last=now,longTapTimeout=setTimeout(longTap,longTapDelay)}).bind("touchmove",function(e){cancelLongTap(),!e.touches&&e.originalEvent&&e.originalEvent.touches&&(e.touches=e.originalEvent.touches),touch.x2=e.touches[0].pageX,touch.y2=e.touches[0].pageY,Math.abs(touch.x1-touch.x2)>10&&e.preventDefault()}).bind("touchend",function(){cancelLongTap(),touch.x2&&Math.abs(touch.x1-touch.x2)>30||touch.y2&&Math.abs(touch.y1-touch.y2)>30?swipeTimeout=setTimeout(function(){touch.el.trigger("swipe"),touch.el.trigger("swipe"+swipeDirection(touch.x1,touch.x2,touch.y1,touch.y2)),touch={}},0):"last"in touch&&(tapTimeout=setTimeout(function(){var event=$.Event("tap");event.cancelTouch=cancelAll,touch.el.trigger(event),touch.isDoubleTap?(touch.el.trigger("doubleTap"),touch={}):touchTimeout=setTimeout(function(){touchTimeout=null,touch.el.trigger("singleTap"),touch={}},250)},0))}).bind("touchcancel",cancelAll),$(window).bind("scroll",cancelAll)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(m){$.fn[m]=function(callback){return this.bind(m,callback)}})}()),/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(EWF.ua)&&EWF.ua.indexOf("AppleWebKit")>-1&&(EWF.iOS=!0,function(w){function restoreZoom(){meta.setAttribute("content",enabledZoom),enabled=!0}function disableZoom(){meta.setAttribute("content",disabledZoom),enabled=!1}function checkTilt(e){aig=e.accelerationIncludingGravity,x=Math.abs(aig.x),y=Math.abs(aig.y),z=Math.abs(aig.z),w.orientation&&180!==w.orientation||!(x>7||(z>6&&8>y||8>z&&y>6)&&x>5)?enabled||restoreZoom():enabled&&disableZoom()}var doc=w.document;if(doc.querySelector){var x,y,z,aig,meta=doc.querySelector("meta[name=viewport]"),initialContent=meta&&meta.getAttribute("content"),disabledZoom=initialContent+",maximum-scale=1",enabledZoom=initialContent+",maximum-scale=10",enabled=!0;meta&&(w.addEventListener("orientation change",restoreZoom,!1),w.addEventListener("devicemotion",checkTilt,!1))}}(window))}(),$(document).ready(function(){EWF.$body||(EWF.$body=$("body")),$("#gov-link-3").on(EWF.activateEventName,function(e){e.preventDefault(),EWF.$body.addClass("active-gov-bar-search")}),$("[data-active]").on(EWF.activateEventName,function(e){function removeOtherActive(active){var activeClass=active.attr("data-active");EWF.$body.removeClass(activeClass),active.removeClass("active")}function specialEvents(activeElm){"active-site-search"===activeElm&&$("#site-search-box").focus(),"active-site-menu"===activeElm&&(EWF.$body.hasClass("off-canvas")&&EWF.$body.hasClass("active-site-menu")?EWF.$body.css("min-height",screen.height+"px"):EWF.$body.css("min-height",""))}e.preventDefault(),e.stopPropagation();var $clickedElm=$(this),activeClass=$clickedElm.attr("data-active"),$activeElm=$(".active"),selectedClass="active";$activeElm.length>0&&$activeElm.attr("data-active")!==$clickedElm.attr("data-active")&&removeOtherActive($activeElm),EWF.$body.hasClass(activeClass)?(EWF.$body.removeClass(activeClass),$clickedElm.removeClass(selectedClass),EWF.$body.off(EWF.activateEventName)):(EWF.$body.addClass(activeClass),$clickedElm.addClass(selectedClass),EWF.$body.on(EWF.activateEventName,function(e){var activeElm=$(".active");if($(this),activeElm.length>0&&"INPUT"!==e.target.tagName){var activeClass=activeElm.attr("data-active");EWF.$body.removeClass(activeClass),activeElm.removeClass("active"),EWF.$body.off(EWF.activateEventName)}})),specialEvents(activeClass)})}),EWF.preloader={container:null,assets:[]},EWF.preloader.init=function(){EWF.preloader.container=document.createElement("div"),EWF.preloader.container.className="hide-off-screen",document.body.appendChild(EWF.preloader.container),EWF.preloader.assets.forEach(function(i){EWF.preloader.add(i)}),EWF.preloader.assets=[]},EWF.preloader.add=function(html){return html&&"string"==typeof html?(EWF.preloader.container?EWF.preloader.container.innerHTML+=html:EWF.preloader.assets.push(html),void 0):!1};try{$.fn.reverse=[].reverse}catch(e){}
