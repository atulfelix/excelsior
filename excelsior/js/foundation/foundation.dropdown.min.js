(function($,window){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"4.0.9",settings:{activeClass:"open"},init:function(scope,method,options){return this.scope=scope||this.scope,Foundation.inherit(this,"throttle"),"object"==typeof method&&$.extend(!0,this.settings,method),"string"!=typeof method?(this.settings.init||this.events(),this.settings.init):this[method].call(this,options)},events:function(){var self=this;$(this.scope).on("click.fndtn.dropdown","[data-dropdown]",function(e){e.preventDefault(),e.stopPropagation(),self.toggle($(this))}),$("*, html, body").on("click.fndtn.dropdown",function(e){$(e.target).data("dropdown")||$(e.target).closest(".f-dropdown").length||$(".f-dropdown").css("left","-99999px").removeClass(self.settings.activeClass)}),$(window).on("resize.fndtn.dropdown",self.throttle(function(){self.resize.call(self)},50)).trigger("resize"),this.settings.init=!0},toggle:function(target){var dropdown=$("#"+target.data("dropdown"));$("[data-dropdown-content]").not(dropdown).css("left","-99999px").removeClass(this.settings.activeClass),dropdown.hasClass(this.settings.activeClass)?dropdown.css("left","-99999px").removeClass(this.settings.activeClass):this.css(dropdown.addClass(this.settings.activeClass),target)},resize:function(){var dropdown=$("[data-dropdown-content].open"),target=$("[data-dropdown='"+dropdown.attr("id")+"']");dropdown.length&&target.length&&this.css(dropdown,target)},css:function(dropdown,target){if(dropdown.parent()[0]===$("body")[0])var position=target.offset();else var position=target.position();if(this.small())dropdown.css({position:"absolute",width:"95%",left:"2.5%","max-width":"none",top:position.top+this.outerHeight(target)});else{if($(window).width()>this.outerWidth(dropdown)+target.offset().left)var left=position.left;else{dropdown.hasClass("right")||dropdown.addClass("right");var left=position.left-(this.outerWidth(dropdown)-this.outerWidth(target))}dropdown.attr("style","").css({position:"absolute",top:position.top+this.outerHeight(target),left:left})}return dropdown},small:function(){return 768>$(window).width()||$("html").hasClass("lt-ie9")},off:function(){$(this.scope).off(".fndtn.dropdown"),$("html, body").off(".fndtn.dropdown"),$(window).off(".fndtn.dropdown"),$("[data-dropdown-content]").off(".fndtn.dropdown"),this.settings.init=!1}}})(Foundation.zj,this,this.document);